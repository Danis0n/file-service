
# File service

Сервис, позволяющий сохранить необходимый файл в нужном архиве или скачать его.

## API endpoints описание

#### Скачать файл

```http
  GET /api/v1/file/{archivePath}/{fileName}
```

| Параметр         | Тип      | Описание                         |              
| :-------- | :------- | :------------------------- |
| `archivePath` | `string` | Путь к нужному архиву |
| `fileName` | `string` | Имя файла, необходимо учитывать расширение(.txt, jpg) |

Возвращаемое значение:
```java
Resource.class
```

#### Загрузить файл

```http
  POST /api/v1/file/{archivePath}/{fileName}
```

| Параметр         | Тип      | Описание                         |
| :-------- | :------- | :------------------------- |
| `archivePath` | `string` | Путь к нужному архиву |
| `fileName` | `string` | Имя файла, расширение забирается из файла |
| `file` | `MultipartFile` | Файл | 

Возвращаемое значение:
```java
void
```
#### Получить список файлов

```http
  GET /api/v1/file
```

Возвращаемое значение:
```java
List<FileDto>
```
## Описание

Программа позволяет сохранить файл в архиве или скачать его. В случае, если архив или файл не был найден, возвращается ошибка 404, а в базе данных выставляется соответствующий флаг (true, false).
Архивы находятся по урлу
```
file-service/src/main/resources/archives
```
Поддержка нескольких архивов и нескольких файлов в одном архиве.
Записи об файлах автоматически дублируются в базу данных.

## База данных

В конфигурационном файле выставлена настройка, позволяющая автоматически создать таблицу

| Параметр         | Тип      | Описание                         |
|:-----------------|:---------|:---------------------------------|
| `file_name`      | `string` | Имя файла                        |
| `archive_path`   | `string` | Путь к архиву                    |
| `file_available` | `string` | Находится ли файл в архиве, флаг |
